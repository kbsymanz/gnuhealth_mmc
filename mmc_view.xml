<?xml version="1.0"?>
<tryton>
    <data>

        <!-- Redefining the gnuhealth_patient_view_form by removing unnecessary fields
             and moving the remaining fields into better positions. -->
        <record model="ir.ui.view" id="mmc_patient_view">
            <field name="model">gnuhealth.patient</field>
            <field name="inherit" ref="health.gnuhealth_patient_view_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr='/form/notebook/page[@id=&quot;general_info&quot;]'
                        position='replace'>
                        <page string="General Info" id="general_info">
                            <group col="6" colspan="4"
                                string="Patient General Information"
                                id="general_info">
                                <label name="blood_type"/>
                                <field name="blood_type"/>
                                <label name="rh"/>
                                <field name="rh"/>
                                <newline/>
                                <label name="menarche"/>
                                <field name="menarche"/>
                                <newline/>
                                <label name="current_address"/>
                                <field name="current_address"/>
                                <label name="marital_status"/>
                                <field name="marital_status"/>
                            </group>
                            <group id="patient_phil_health" colspan="2" col="8">
                                <newline/>
                                <label name="phil_health"/>
                                <field name="phil_health"/>
                                <label name="phil_health_mcp"/>
                                <field name="phil_health_mcp"/>
                                <label name="phil_health_ncp"/>
                                <field name="phil_health_ncp"/>
                                <label name="phil_health_id"/>
                                <field name="phil_health_id"/>
                                <newline/>
                            </group>
                            <group id="patient_info" colspan="4" col="4">
                                <separator colspan="4"
                                    string="Patient Extra Information"
                                    id="separator_misc"/>
                                <newline/>
                                <field name="general_info" colspan="4"/>
                            </group>
                            <newline/>
                            <group colspan="4" col="6" id="misc_info_group">
                                <label name="deceased"/>
                                <field name="deceased"/>
                                <label name="dod"/>
                                <field name="dod"/>
                                <label name="cod"/>
                                <field name="cod"/>
                            </group>
                        </page>
                    </xpath>

                    <!-- Change the tab name from Diseases to Conditions. -->
                    <xpath
                        expr='/form/notebook/page[@id=&quot;patient_diseases&quot;]'
                        position='replace'>
                        <page string="Conditions" id="patient_diseases">
                            <field name="diseases" colspan="4"/>
                        </page>
                    </xpath>

                </data>
                ]]>
            </field>
        </record>

        <!-- Change the wording on the medication extra info form. -->
        <record model="ir.ui.view" id="gnuhealth_patient_medication_form">
            <field name="model">gnuhealth.patient.medication</field>
            <field name="inherit" ref="health.gnuhealth_patient_medication_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr='/form/notebook/page[@id=&quot;medication_misc&quot;]/group[@id=&quot;medication_notes&quot;]'
                        position='replace'>
                        <group id="medication_notes"
                            string="Prescribed by">
                            <label name="doctor"/>
                            <field name="doctor"/>
                        </group>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>


        <!-- Change the order of the fields for the sake of the workflow and
             remove unnecessary fields. -->
        <record model="ir.ui.view" id="mmc_vaccination_form">
            <field name="model">gnuhealth.vaccination</field>
            <field name="inherit" ref="health.gnuhealth_vaccination_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr='/form/group[@id=&quot;vaccination_header&quot;]'
                        position='replace'>
                        <group colspan="4" id="vaccination_header">
                            <group colspan="4" col="6" id="group_vaccine_dates">
                                <label name="vaccine"/>
                                <field name="vaccine"/>
                                <label name="dose"/>
                                <field name="dose"/>
                                <label name="date"/>
                                <field name="date"/>
                            </group>
                            <newline/>
                            <label name="next_dose_date"/>
                            <field name="next_dose_date"/>
                            <label name="vaccine_by_mmc"/>
                            <field name="vaccine_by_mmc"/>
                        </group>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>

        <!-- Remove the Colposcopy page since it is not used. -->
        <record model="ir.ui.view" id="mmc_patient_view_form">
            <field name="model">gnuhealth.patient</field>
            <field name="inherit" ref="health.gnuhealth_patient_view_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr="/form/notebook/page[@id=&quot;page_gyneco_obs&quot;]/notebook/page[@id=&quot;page_pap_colpo&quot;]"
                        position="replace">
                        <page string="Pap / Colpo" id="page_pap_colpo">
                            <field name="pap_history"/>
                        </page>
                    </xpath>

                    <xpath
                        expr="/form/notebook/page[@id=&quot;page_gyneco_obs&quot;]/notebook/page[@id=&quot;page_gyneco&quot;]"
                        position="replace">
                    </xpath>

                    <!-- Note: health_gyneco module used same id for screening tab as it does for the gyneco tab. -->
                    <xpath
                        expr="/form/notebook/page[@id=&quot;page_gyneco_obs&quot;]/notebook/page[@id=&quot;page_gyneco&quot;]"
                        position="replace">
                        <page string="Screening" id="page_gyneco">
                            <group colspan="4" col="8" id="group_prevention">
                                <label name="pap_test"/>
                                <field name="pap_test"/>
                                <label name="gram_stain"/>
                                <field name="gram_stain"/>
                                <label name="breast_self_exam_taught"/>
                                <field name="breast_self_exam_taught"/>
                            </group>
                        </page>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>

        <!-- Add the alternative pregnancy due date field. -->
        <record model="ir.ui.view" id="mmc_gnuhealth_patient_pregnancy_view">
            <field name="model">gnuhealth.patient.pregnancy</field>
            <field name="inherit" ref="health_gyneco.gnuhealth_patient_pregnancy_view" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr="/form/group[@id=&quot;group_pregnancy_header&quot;]"
                        position="replace">
                        <group id="group_pregnancy_header" colspan="4" col="8">
                            <label name="gravida"/>
                            <field name="gravida"/>
                            <label name="lmp"/>
                            <field name="lmp"/>
                            <label name="current_pregnancy"/>
                            <field name="current_pregnancy"/>
                            <newline/>
                            <label name="pdd"/>
                            <field name="pdd"/>
                            <label name="apdd"/>
                            <field name="apdd"/>
                        </group>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>


        <!-- Change the labels and remove some fields in the diseases form. -->
        <record model="ir.ui.view" id="mmc_gnuhealth_patient_diseases_view_form">
            <field name="model">gnuhealth.patient.disease</field>
            <field name="inherit" ref="health.gnuhealth_patient_diseases_view_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>

                    <!-- Remove unnecessary fields. -->
                    <xpath
                        expr="/form/group[@id=&quot;group_diseases_main&quot;]" position="replace">
                        <group string="Main" id="group_diseases_main">
                            <label name="pathology"/>
                            <field name="pathology"/>
                            <label name="disease_severity"/>
                            <field name="disease_severity"/>
                            <label name="status"/>
                            <field name="status"/>
                            <label name="is_infectious"/>
                            <field name="is_infectious"/>
                            <label name="is_active"/>
                            <field name="is_active"/>
                            <label name="short_comment"/>
                            <field name="short_comment"/>
                            <newline/>
                            <label name="diagnosed_date"/>
                            <field name="diagnosed_date"/>
                            <label name="healed_date"/>
                            <field name="healed_date"/>
                            <label name="age"/>
                            <field name="age"/>
                        </group>
                    </xpath>

                    <!-- Remove unnecessary fields. -->
                    <xpath
                        expr="/form/group[@id=&quot;group_disease_in_pregnancy&quot;]" position="replace">
                        <group string="Pregnancy" id="group_disease_in_pregnancy">
                            <label name="weeks_of_pregnancy"/>
                            <field name="weeks_of_pregnancy"/>
                        </group>
                    </xpath>

                    <!-- Remove unnecessary fields. -->
                    <xpath
                        expr="/form/group[@id=&quot;group_disease_therapy&quot;]" position="replace">
                        <group string="Therapy" id="group_disease_therapy">
                            <label name="is_on_treatment"/>
                            <field name="is_on_treatment"/>
                        </group>
                    </xpath>

                    <!-- Change the name of the form. -->
                    <xpath
                        expr="/form" position="replace_attributes">
                        <form string="Patient Conditions" />
                    </xpath>

                </data>
                ]]>
            </field>
        </record>

        <record model="ir.ui.view" id="mmc_gnuhealth_patient_diseases_tree">
            <field name="model">gnuhealth.patient.disease</field>
            <field name="inherit" ref="health.gnuhealth_patient_diseases_tree" />
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>

                    <!-- Remove the pregnancy warning field. -->
                    <xpath
                        expr="/tree/field[@name=&quot;pregnancy_warning&quot;]" position="replace">
                    </xpath>

                    <!-- Change the name of the tree. -->
                    <xpath
                        expr="/tree" position="replace_attributes">
                        <tree string="Patient conditions" />
                    </xpath>

                </data>
                ]]>
            </field>
        </record>


        <record model="ir.ui.view" id="mmc_gnuhealth_prenatal_evaluation_view">
            <field name="model">gnuhealth.patient.prenatal.evaluation</field>
            <field name="inherit" ref="health_gyneco.gnuhealth_prenatal_evaluation_view" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>

                    <!-- Change the header section to admission/discharge only. -->
                    <xpath
                        expr="/form/group[@id=&quot;prenatal_evaluation_group_header&quot;]" position="replace">
                        <group string="Admission/Discharge" id="prenatal_evaluation_group_header" colspan="4" col="4">
                            <label name="evaluation_date"/>
                            <field name="evaluation_date"/>
                            <label name="discharge"/>
                            <field name="discharge"/>
                        </group>
                    </xpath>

                    <!-- Remove the mother information fields and replace them with our own. -->
                    <xpath
                        expr="/form/group[@id=&quot;prenatal_evaluation_group_mother&quot;]" position="replace">
                        <group string="Mother Information" id="prenatal_evaluation_group_mother" colspan="4" col="8">
                            <label name="weight"/>
                            <field name="weight"/>
                            <label name="systolic"/>
                            <field name="systolic"/>
                            <label name="diastolic"/>
                            <field name="diastolic"/>
                            <newline/>
                            <label name="cr"/>
                            <field name="cr"/>
                            <label name="rr"/>
                            <field name="rr"/>
                        </group>
                    </xpath>

                    <!-- Remove the placenta fields -->
                    <xpath
                        expr="/form/group[@id=&quot;prenatal_evaluation_group_placenta&quot;]" position="replace">
                    </xpath>

                    <!-- Remove the unnecessary fields, add new ones, and move some around. -->
                    <xpath
                        expr="/form/group[@id=&quot;prenatal_evaluation_group_fetus&quot;]" position="replace">
                        <group string="Fetus Information" id="prenatal_evaluation_group_fetus" colspan="4" col="8">
                            <label name="gestational_weeks"/>
                            <field name="gestational_weeks"/>
                            <label name="position"/>
                            <field name="position"/>
                            <newline/>
                            <label name="fundal_height"/>
                            <field name="fundal_height"/>
                            <label name="fetus_heart_rate"/>
                            <field name="fetus_heart_rate"/>
                        </group>
                    </xpath>

                    <xpath
                        expr="/form/group[@id=&quot;prenatal_evaluation_group_fetus&quot;]" position="after">
                        <group string="Examiner and next Appt" id="prenatal_evaluation_group_footer" colspan="4" col="8">
                            <label name="examiner"/>
                            <field name="examiner"/>
                            <label name="next_appt"/>
                            <field name="next_appt"/>
                        </group>
                    </xpath>

                </data>
                ]]>
            </field>
        </record>

        <record model="ir.ui.view" id="mmc_gnuhealth_prenatal_evaluation_tree">
            <field name="model">gnuhealth.patient.prenatal.evaluation</field>
            <field name="inherit" ref="health_gyneco.gnuhealth_prenatal_evaluation_tree" />
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>

                    <!-- Remove the unneeded fields from the tree -->
                    <xpath expr="/tree/field[@name=&quot;evaluation_date&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;efw&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;gestational_weeks&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;iugr&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;hypertension&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;preeclampsia&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;overweight&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;diabetes&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;invasive_placentation&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;placenta_previa&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;vasa_previa&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;oligohydramnios&quot;]" position="replace"></xpath>
                    <xpath expr="/tree/field[@name=&quot;polihydramnios&quot;]" position="replace"></xpath>

                    <!-- Add other fields back in. -->
                    <xpath expr="/tree/field[@name=&quot;fundal_height&quot;]" position="before">
                        <field name="eval_date_only" expand="1"/>
                    </xpath>
                    <xpath expr="/tree/field[@name=&quot;eval_date_only&quot;]" position="after">
                        <field name="weight" expand="1"/>
                    </xpath>
                    <xpath expr="/tree/field[@name=&quot;weight&quot;]" position="after">
                        <field name="bp" expand="1"/>
                    </xpath>
                    <xpath expr="/tree/field[@name=&quot;bp&quot;]" position="after">
                        <field name="cr" expand="1"/>
                    </xpath>
                    <xpath expr="/tree/field[@name=&quot;cr&quot;]" position="after">
                        <field name="gestational_age" expand="1"/>
                    </xpath>
                    <xpath expr="/tree/field[@name=&quot;fetus_heart_rate&quot;]" position="after">
                        <field name="position" expand="1"/>
                    </xpath>
                    <xpath expr="/tree/field[@name=&quot;position&quot;]" position="after">
                        <field name="examiner" expand="1"/>
                    </xpath>
                    <xpath expr="/tree/field[@name=&quot;examiner&quot;]" position="after">
                        <field name="next_appt" expand="1"/>
                    </xpath>


                </data>
                ]]>
            </field>
        </record>

    </data>
</tryton>
