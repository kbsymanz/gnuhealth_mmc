<?xml version="1.0"?>
<tryton>
    <data>

        <!-- Redefining the gnuhealth_patient_view_form by removing unnecessary fields
             and moving the remaining fields into better positions. -->
        <record model="ir.ui.view" id="mmc_patient_view">
            <field name="model">gnuhealth.patient</field>
            <field name="inherit" ref="health.gnuhealth_patient_view_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr='/form/notebook/page[@id=&quot;general_info&quot;]'
                        position='replace'>
                        <page string="General Info" id="general_info">
                            <group col="6" colspan="4"
                                string="Patient General Information"
                                id="general_info">
                                <label name="blood_type"/>
                                <field name="blood_type"/>
                                <label name="rh"/>
                                <field name="rh"/>
                                <newline/>
                                <label name="menarche"/>
                                <field name="menarche"/>
                                <newline/>
                                <label name="current_address"/>
                                <field name="current_address"/>
                                <label name="marital_status"/>
                                <field name="marital_status"/>
                            </group>
                            <group id="patient_phil_health" colspan="2" col="6">
                                <newline/>
                                <label name="phil_health"/>
                                <field name="phil_health"/>
                                <label name="phil_health_mcp"/>
                                <field name="phil_health_mcp"/>
                                <label name="phil_health_ncp"/>
                                <field name="phil_health_ncp"/>
                                <newline/>
                            </group>
                            <group id="patient_info" colspan="4" col="4">
                                <separator colspan="4"
                                    string="Patient Extra Information"
                                    id="separator_misc"/>
                                <newline/>
                                <field name="general_info" colspan="4"/>
                            </group>
                            <newline/>
                            <group colspan="4" col="6" id="misc_info_group">
                                <label name="deceased"/>
                                <field name="deceased"/>
                                <label name="dod"/>
                                <field name="dod"/>
                                <label name="cod"/>
                                <field name="cod"/>
                            </group>
                        </page>
                    </xpath>

                    <!-- Change the tab name from Diseases to Conditions. -->
                    <xpath
                        expr='/form/notebook/page[@id=&quot;patient_diseases&quot;]'
                        position='replace'>
                        <page string="Conditions" id="patient_diseases">
                            <field name="diseases" colspan="4"/>
                        </page>
                    </xpath>

                </data>
                ]]>
            </field>
        </record>

        <!-- Change the wording on the medication extra info form. -->
        <record model="ir.ui.view" id="gnuhealth_patient_medication_form">
            <field name="model">gnuhealth.patient.medication</field>
            <field name="inherit" ref="health.gnuhealth_patient_medication_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr='/form/notebook/page[@id=&quot;medication_misc&quot;]/group[@id=&quot;medication_notes&quot;]'
                        position='replace'>
                        <group id="medication_notes"
                            string="Prescribed by">
                            <label name="doctor"/>
                            <field name="doctor"/>
                        </group>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>


        <!-- Change the order of the fields for the sake of the workflow and
             remove unnecessary fields. -->
        <record model="ir.ui.view" id="mmc_vaccination_form">
            <field name="model">gnuhealth.vaccination</field>
            <field name="inherit" ref="health.gnuhealth_vaccination_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr='/form/group[@id=&quot;vaccination_header&quot;]'
                        position='replace'>
                        <group colspan="4" id="vaccination_header">
                            <group colspan="4" col="6" id="group_vaccine_dates">
                                <label name="vaccine"/>
                                <field name="vaccine"/>
                                <label name="dose"/>
                                <field name="dose"/>
                                <label name="date"/>
                                <field name="date"/>
                            </group>
                            <newline/>
                            <label name="next_dose_date"/>
                            <field name="next_dose_date"/>
                            <label name="vaccine_by_mmc"/>
                            <field name="vaccine_by_mmc"/>
                        </group>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>

        <!-- Remove the Colposcopy page since it is not used. -->
        <record model="ir.ui.view" id="mmc_patient_view_form">
            <field name="model">gnuhealth.patient</field>
            <field name="inherit" ref="health.gnuhealth_patient_view_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr="/form/notebook/page[@id=&quot;page_gyneco_obs&quot;]/notebook/page[@id=&quot;page_pap_colpo&quot;]"
                        position="replace">
                        <page string="Pap / Colpo" id="page_pap_colpo">
                            <field name="pap_history"/>
                        </page>
                    </xpath>

                    <xpath
                        expr="/form/notebook/page[@id=&quot;page_gyneco_obs&quot;]/notebook/page[@id=&quot;page_gyneco&quot;]"
                        position="replace">
                    </xpath>

                    <!-- Note: health_gyneco module used same id for screening tab as it does for the gyneco tab. -->
                    <xpath
                        expr="/form/notebook/page[@id=&quot;page_gyneco_obs&quot;]/notebook/page[@id=&quot;page_gyneco&quot;]"
                        position="replace">
                        <page string="Screening" id="page_gyneco">
                            <group colspan="4" col="8" id="group_prevention">
                                <label name="pap_test"/>
                                <field name="pap_test"/>
                                <label name="gram_stain"/>
                                <field name="gram_stain"/>
                                <label name="breast_self_exam_taught"/>
                                <field name="breast_self_exam_taught"/>
                            </group>
                        </page>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>

        <!-- Add the alternative pregnancy due date field. -->
        <record model="ir.ui.view" id="mmc_gnuhealth_patient_pregnancy_view">
            <field name="model">gnuhealth.patient.pregnancy</field>
            <field name="inherit" ref="health_gyneco.gnuhealth_patient_pregnancy_view" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr="/form/group[@id=&quot;group_pregnancy_header&quot;]"
                        position="replace">
                        <group id="group_pregnancy_header" colspan="4" col="8">
                            <label name="gravida"/>
                            <field name="gravida"/>
                            <label name="lmp"/>
                            <field name="lmp"/>
                            <label name="current_pregnancy"/>
                            <field name="current_pregnancy"/>
                            <newline/>
                            <label name="pdd"/>
                            <field name="pdd"/>
                            <label name="apdd"/>
                            <field name="apdd"/>
                        </group>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>


        <!-- Change the labels and remove some fields in the diseases form. -->
        <record model="ir.ui.view" id="mmc_gnuhealth_patient_diseases_view_form">
            <field name="model">gnuhealth.patient.disease</field>
            <field name="inherit" ref="health.gnuhealth_patient_diseases_view_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr="/form" position="replace_attributes">
                        <form string="Patient Conditions" />
                    </xpath>
                </data>
                ]]>
            </field>
        </record>


    </data>
</tryton>
