<?xml version="1.0"?>
<tryton>
    <data>

        <!-- Redefining the gnuhealth_patient_view_form by removing unnecessary fields
             and moving the remaining fields into better positions. -->
        <record model="ir.ui.view" id="mmc_patient_view">
            <field name="model">gnuhealth.patient</field>
            <field name="inherit" ref="health.gnuhealth_patient_view_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath 
                        expr='/form/notebook/page[@id=&quot;general_info&quot;]'
                        position='replace'>
                        <page string="General Info" id="general_info">
                            <group col="6" colspan="4"
                                string="Patient General Information"
                                id="general_info">
                                <label name="blood_type"/>
                                <field name="blood_type"/>
                                <label name="rh"/>
                                <field name="rh"/>
                                <newline/>
                                <label name="current_address"/>
                                <field name="current_address"/>
                                <label name="marital_status"/>
                                <field name="marital_status"/>
                                <newline/>
                                <label name="current_insurance"/>
                                <field name="current_insurance"/>
                            </group>
                            <group id="patient_info" colspan="4" col="4">
                                <separator colspan="4"
                                    string="Patient Extra Information"
                                    id="separator_misc"/>
                                <newline/>
                                <field name="general_info" colspan="4"/>
                            </group>
                            <newline/>
                            <group colspan="4" col="6" id="misc_info_group">
                                <label name="deceased"/>
                                <field name="deceased"/>
                                <label name="dod"/>
                                <field name="dod"/>
                                <label name="cod"/>
                                <field name="cod"/>
                            </group>
                        </page>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>


        <!-- Change the order of the fields for the sake of the workflow and
             remove unnecessary fields. -->
        <record model="ir.ui.view" id="mmc_vaccination_form">
            <field name="model">gnuhealth.vaccination</field>
            <field name="inherit" ref="health.gnuhealth_vaccination_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath 
                        expr='/form/group[@id=&quot;vaccination_header&quot;]'
                        position='replace'>
                        <group colspan="4" id="vaccination_header">
                            <group colspan="4" col="6" id="group_vaccine_dates">
                                <label name="vaccine"/>
                                <field name="vaccine"/>
                                <label name="dose"/>
                                <field name="dose"/>
                                <label name="date"/>
                                <field name="date"/>
                            </group>
                            <newline/>
                            <label name="next_dose_date"/>
                            <field name="next_dose_date"/>
                            <label name="vaccine_by_mmc"/>
                            <field name="vaccine_by_mmc"/>
                        </group>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>

        <!-- Remove the Colposcopy page since it is not used. -->
        <record model="ir.ui.view" id="gnuhealth_patient_view">
            <field name="model">gnuhealth.patient</field>
            <field name="inherit" ref="health.gnuhealth_patient_view_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <data>
                    <xpath
                        expr="/form/notebook/page[@id=&quot;page_gyneco_obs&quot;]/notebook/page[@id=&quot;page_pap_colpo&quot;]"
                        position="replace">
                        <page string="Pap / Colpo" id="page_pap_colpo">
                            <field name="pap_history"/>
                        </page>
                    </xpath>
                </data>
                ]]>
            </field>
        </record>

    </data>
</tryton>
